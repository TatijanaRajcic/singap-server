{"version":3,"sources":["api/apiHandler.js","components/Auth/AuthProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","components/LocationAutoComplete.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/ProtectedRoute.jsx","pages/Profile.jsx","pages/OneHouse.jsx","components/Forms/FormHouse.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","get","id","search","params","house","lease","AuthContext","React","createContext","AuthProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","apiHandler","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","authContext","className","exact","to","Fragment","xmlns","width","height","viewBox","d","firstName","onClick","LocationAutoComplete","results","handleSearchChange","bind","e","target","clearTimeout","timeoutId","setTimeout","performSearch","place","ADDRESS","onSelect","onHighlight","type","onChange","placeholder","map","key","X","handleItemClicked","Image","src","Map","ReactMapboxGl","accessToken","paintLayer","Home","searchedAddress","allPlaces","searchDone","showDetails","mapCenter","zoom","initiateMap","labelLayerId","layers","getStyle","i","length","layout","addSource","features","addLayer","source","minzoom","paint","handlePlace","searchedAddressCoordinates","Number","LONGITUDE","LATITUDE","filter","onePlace","arraysEqual","coordinates","getBuildings","callback","all_features","queryRenderedFeatures","highlightBuilding","point","center","lon","parseFloat","lat","on","allFeatures","forEach","polygone","booleanPointInPolygon","geometry","selectFeatures","getSource","setData","a","b","housesAtSearchedAddress","fullAddress","style","containerStyle","marginLeft","pitch","bearing","onStyleLoad","searchType","sourceId","sourceLayer","minZoom","index","_id","unitNumbers","FormSignin","handleChange","event","name","files","checked","handleSubmit","preventDefault","history","push","role","aria-label","autoComplete","onSubmit","htmlFor","withRouter","Signin","FormSignup","Signup","component","rest","render","padding","fontSize","marginBottom","color","fontWeight","rel","href","profileImg","alt","lastName","ratings","img","OneHouse","houseId","rating","discrimination","abuseOnRent","abuseOnDeposit","displayReviews","displayForm","decription","fd","FormData","append","err","match","blocNumber","textAddress","building","category","leases","oneLease","isVerified","defaultChecked","fontStyle","HouseForm","unitNumbers1","unitNumbers2","unitRelevance","errors","maxLength","troncated","slice","completeState","errorMessages","houseFound","BLK_NO","ROAD_NAME","BUILDING","defaultValue","disabled","App","path","FormHouse","Profile","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ffd72520.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getHouses() {\n    return service\n      .get(\"/api/houses\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getOneHouse(id) {\n    return service\n      .get(`/api/houses/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  checkHouse(search) {\n    return service\n      .get(\"/api/houses\", {\n        params: {\n          search\n        },\n      })\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  createOneHouse(house) {\n    return service\n      .post(\"/api/houses\", house)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  createOneLease(lease) {\n    return service\n      .post(\"/api/leases\", lease)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\n\nexport const AuthContext = React.createContext();\n\nclass AuthProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n    return (\n      <AuthContext.Provider value={authValues}>\n        {this.props.children}\n      </AuthContext.Provider>\n    );\n  }\n}\n\nexport default AuthProvider;\n","import React from \"react\";\nimport { AuthContext } from \"./AuthProvider\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/********************************************************* */\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in AuthProvider.jsx.\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <AuthContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} authContext={context} />\n        )}\n      </AuthContext.Consumer>\n    );\n  };\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { authContext } = props;\n\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        authContext.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain\">\n      <NavLink exact to=\"/\">\n        <h3>Rentalseum</h3>\n      </NavLink>\n      <ul>\n        {authContext.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/houses/create\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"24\"\n                  height=\"24\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n                </svg>\n                Add House Review\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/profile\">\n                {authContext.user && authContext.user.firstName}\n              </NavLink>\n            </li>\n            <li>\n              <p onClick={handleLogout}>Logout</p>\n            </li>\n          </React.Fragment>\n        )}\n        {!authContext.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/signin\">Log in</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/signup\">Create account</NavLink>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React, { Component } from \"react\";\nimport \"../styles/LocationAutoComplete.css\";\nimport axios from \"axios\";\n\nclass LocationAutoComplete extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      results: [],\n      isLoading: false,\n    };\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n  }\n\n  handleSearchChange(e) {\n    this.setState({\n      search: e.target.value,\n      isLoading: true,\n    });\n\n    // Stop the previous setTimeout if there is one in progress\n    clearTimeout(this.timeoutId);\n\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\n    this.timeoutId = setTimeout(() => {\n      this.performSearch();\n    }, 1000);\n  }\n\n  performSearch() {\n    if (this.state.search === \"\") {\n      this.setState({\n        results: [],\n        isLoading: false,\n      });\n      return;\n    }\n\n    axios\n      .get(\n        `https://developers.onemap.sg/commonapi/search?searchVal=${this.state.search}&returnGeom=Y&getAddrDetails=Y&pageNum=1`\n      )\n      .then((response) => {\n        this.setState({\n          results: response.data.results,\n          isLoading: false,\n        });\n      });\n  }\n\n  handleItemClicked(place) {\n    this.setState({\n      search: place.ADDRESS,\n      results: [],\n    });\n\n    this.props.onSelect(place);\n    this.props.onHighlight && this.props.onHighlight(place);\n  }\n\n  render() {\n    return (\n      <div className=\"LocationAutoComplete\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          value={this.state.search}\n          onChange={this.handleSearchChange}\n          placeholder=\"Enter an address in Singapore\"\n        />\n        <ul className=\"LocationAutoComplete-results\">\n          {this.state.results.map((place) => (\n            <li\n              key={place.X}\n              className=\"LocationAutoComplete-items\"\n              onClick={() => this.handleItemClicked(place)}\n            >\n              {place.ADDRESS}\n            </li>\n          ))}\n          {this.state.isLoading && (\n            <li className=\"LocationAutoComplete-items\">Loading...</li>\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LocationAutoComplete;\n","import React, { Component } from \"react\";\nimport ReactMapboxGl, { MapContext, Layer, Feature } from \"react-mapbox-gl\";\nimport { Link } from \"react-router-dom\";\nimport Autocomplete from \"../components/LocationAutoComplete\";\nimport \"../styles/Home.css\";\nimport apiHandler from \"../api/apiHandler\";\nimport { booleanPointInPolygon } from \"@turf/turf\";\n\nconst myMarker = new Image(40, 20); // Image constructor\nmyMarker.src = \"images/house.png\";\n\nconst Map = ReactMapboxGl({\n  accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n});\n\nconst paintLayer = {\n  \"fill-extrusion-color\": \"#aaa\",\n  \"fill-extrusion-height\": [\n    \"interpolate\",\n    [\"linear\"],\n    [\"zoom\"],\n    15,\n    0,\n    15.05,\n    [\"get\", \"height\"],\n  ],\n  \"fill-extrusion-base\": [\n    \"interpolate\",\n    [\"linear\"],\n    [\"zoom\"],\n    15,\n    0,\n    15.05,\n    [\"get\", \"min_height\"],\n  ],\n  \"fill-extrusion-opacity\": 0.6,\n};\n\nexport default class Home extends Component {\n  state = {\n    searchedAddress: null,\n    allPlaces: [],\n    searchDone: false,\n    showDetails: false,\n    map: null,\n    mapCenter: [103.851959, 1.29027],\n    zoom: 15,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getHouses()\n      .then((res) => {\n        this.setState({ allPlaces: res });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  arraysEqual(a, b) {\n    if (a === b) return true;\n    if (a == null || b == null) return false;\n    if (a.length !== b.length) return false;\n    for (let i = 0; i < a.length; ++i) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n\n  initiateMap = (map) => {\n    // method to initiate the new layer for highlighted buildings\n    let layers = map.getStyle().layers;\n    let labelLayerId;\n    for (let i = 0; i < layers.length; i++) {\n      if (layers[i].type === \"symbol\" && layers[i].layout[\"text-field\"]) {\n        labelLayerId = layers[i].id;\n        break;\n      }\n    }\n\n    map.addSource(\"currentBuildings\", {\n      type: \"geojson\",\n      data: {\n        type: \"FeatureCollection\",\n        features: [],\n      },\n    });\n\n    map.addLayer(\n      {\n        id: \"highlight\",\n        source: \"currentBuildings\",\n        type: \"fill-extrusion\",\n        minzoom: 14,\n        paint: {\n          \"fill-extrusion-color\": \"white\",\n          \"fill-extrusion-height\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            14,\n            0,\n            15.05,\n            [\"get\", \"height\"],\n          ],\n          \"fill-extrusion-base\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"zoom\"],\n            14,\n            0,\n            15.05,\n            [\"get\", \"min_height\"],\n          ],\n          \"fill-extrusion-opacity\": 1,\n        },\n      },\n      labelLayerId\n    );\n  };\n\n  handlePlace = (searchedAddress) => {\n    let searchedAddressCoordinates = [\n      Number(searchedAddress.LONGITUDE),\n      Number(searchedAddress.LATITUDE),\n    ];\n\n    // look for all the places at the searched address\n    let placesInDb = this.state.allPlaces.filter((onePlace) => {\n      return this.arraysEqual(onePlace.coordinates, searchedAddressCoordinates);\n    });\n\n    // show different text according to presence in DB\n    if (placesInDb.length > 0) {\n      this.setState({ searchedAddress, searchDone: true, showDetails: true });\n    } else {\n      this.setState({\n        searchedAddress: \"\",\n        searchDone: true,\n        showDetails: false,\n      });\n    }\n  };\n\n  getBuildings = (map, callback) => {\n    const all_features = map.queryRenderedFeatures({\n      layers: [\"3d-buildings\"],\n    });\n    if (callback) callback(all_features);\n  };\n\n  highlightBuilding = (searchedAddress, map) => {\n    let point = [\n      Number(searchedAddress.LONGITUDE),\n      Number(searchedAddress.LATITUDE),\n    ];\n\n    let center = {\n      lon: parseFloat(searchedAddress.LONGITUDE),\n      lat: parseFloat(searchedAddress.LATITUDE),\n    };\n\n    this.setState({ mapCenter: [center.lon, center.lat], zoom: 18.5 });\n\n    map.on(\"moveend\", (e) => {\n      this.getBuildings(map, (allFeatures) => {\n        allFeatures.forEach((polygone) => {\n          if (booleanPointInPolygon(point, polygone.geometry)) {\n            this.selectFeatures(polygone, map);\n          }\n        });\n      });\n    });\n  };\n\n  selectFeatures = (polygone, map) => {\n    map.getSource(\"currentBuildings\").setData({\n      type: \"FeatureCollection\",\n      features: [polygone],\n    });\n  };\n\n  render() {\n    let housesAtSearchedAddress =\n      this.state.searchedAddress &&\n      this.state.allPlaces.filter((onePlace) => {\n        return onePlace.fullAddress === this.state.searchedAddress.ADDRESS;\n      });\n\n    return (\n      <div className=\"Home\">\n        <div className=\"title-container\">\n          <h1>Welcome to RS.com</h1>\n        </div>\n        <div className=\"flex\">\n          <Map\n            style=\"mapbox://styles/examples/cj68bstx01a3r2rndlud0pwpv\"\n            containerStyle={{\n              height: \"60vh\",\n              width: \"70vw\",\n              marginLeft: \"20px\"\n            }}\n            center={this.state.mapCenter}\n            zoom={[this.state.zoom]}\n            pitch={[60]}\n            bearing={[-60]}\n            onStyleLoad={this.initiateMap}\n          >\n            <MapContext.Consumer>\n              {(map) => {\n                return (\n                  <React.Fragment>\n                    <Autocomplete\n                      searchType=\"\"\n                      onSelect={this.handlePlace}\n                      onHighlight={(place) =>\n                        this.highlightBuilding(place, map)\n                      }\n                    />\n                    <Layer\n                      id=\"3d-buildings\"\n                      sourceId=\"composite\"\n                      sourceLayer=\"building\"\n                      filter={[\"==\", \"extrude\", \"true\"]}\n                      type=\"fill-extrusion\"\n                      minZoom={14}\n                      paint={paintLayer}\n                    />\n                  </React.Fragment>\n                );\n              }}\n            </MapContext.Consumer>\n          </Map>\n          <div className=\"map-result\">\n            {!this.state.searchDone && <h2>No search has been made yet.</h2>}\n            {this.state.searchDone && this.state.showDetails && (\n              <React.Fragment>\n                <h2>This address is registered on our website.</h2>\n                <h3>Here are all the houses registered at this address:</h3>\n                {housesAtSearchedAddress &&\n                  housesAtSearchedAddress.map((onePlace, index) => (\n                    <p key={index}>\n                      <Link className=\"link\" to={`/houses/${onePlace._id}`}>\n                        House {index + 1}{\" \"}\n                      </Link>\n                      :{\" \"}\n                      {onePlace.unitNumbers\n                        ? onePlace.unitNumbers\n                        : \"Unit Numbers Not Applicable\"}\n                    </p>\n                  ))}\n              </React.Fragment>\n            )}\n            {this.state.searchDone && !this.state.showDetails && (\n              <h2>This address is not registered on our website.</h2>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withUser } from \"../Auth/withUser\";\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport \"../../styles/form.css\";\n\nclass FormSignin extends Component {\n  state = {};\n\n  handleChange = (event) => {\n    const key = event.target.name;\n\n    // You can test more if you have to handle different sorts of inputs.\n    const value =\n      event.target.type === \"file\"\n        ? event.target.files[0]\n        : event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { authContext } = this.props;\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        authContext.setUser(data);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n        // Display error message here, if you set the state\n      });\n  };\n\n  render() {\n    return (\n      <section className=\"form-section\">\n        <header className=\"header\">\n          <h1>\n            Welcome back{\" \"}\n            <span role=\"img\" aria-label=\"heart\">\n              💙\n            </span>\n          </h1>\n        </header>\n\n        <form\n          autoComplete=\"off\"\n          className=\"form\"\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmit}\n        >\n          <h2 className=\"title\">Login</h2>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"email\">\n              Email\n            </label>\n            <input className=\"input\" id=\"email\" type=\"email\" name=\"email\" />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              className=\"input\"\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n            />\n          </div>\n\n          <button className=\"btn-submit\">Let's go!</button>\n        </form>\n\n        <div className=\"form-section-bottom\">\n          <p>Already have an account? </p>\n          <Link className=\"link\" to=\"/signup\">\n            Register\n          </Link>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormSignin));\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return <FormSignin />;\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { withUser } from \"../Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\nimport \"../../styles/form.css\";\n\nclass FormSignup extends Component {\n  state = {};\n\n  handleChange = (event) => {\n    const value =\n      event.target.type === \"file\" ? event.target.files[0] : event.target.value;\n\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { authContext } = this.props;\n    // authContext\n    //   .signup(this.state)\n    //   .then(() => {\n    //     this.props.history.push(\"/profile\");\n    //   })\n    //   .catch((error) => {\n    //     console.log(error);\n    //   });\n    apiHandler\n      .signup(this.state)\n      .then((data) => {\n        authContext.setUser(data);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <section className=\"form-section\">\n        <header className=\"header\">\n          <h1>\n            Hello\n            <span role=\"img\" aria-label=\"hand\">\n              👋\n            </span>\n          </h1>\n        </header>\n\n        <form\n          autoComplete=\"off\"\n          className=\"form\"\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmit}\n        >\n          <h2 className=\"title\">Create account</h2>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"firstName\">\n              First name\n            </label>\n            <input\n              className=\"input\"\n              id=\"firstName\"\n              type=\"text\"\n              name=\"firstName\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"lastName\">\n              Last Name\n            </label>\n            <input\n              className=\"input\"\n              id=\"lastName\"\n              type=\"text\"\n              name=\"lastName\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"email\">\n              Email\n            </label>\n            <input className=\"input\" id=\"email\" type=\"email\" name=\"email\" />\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              className=\"input\"\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n            />\n          </div>\n\n          <button className=\"btn-submit\">Let's go!</button>\n        </form>\n\n        <div className=\"form-section-bottom\">\n          <p>Already have an account? </p>\n          <Link className=\"link\" to=\"/signin\">\n            Log in\n          </Link>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default withRouter(withUser(FormSignup));\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, authContext, ...rest }) => {\n  if (authContext.isLoading) {\n    return null;\n  } else if (authContext.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport \"../styles/Profile.css\";\nimport \"../styles/CardItem.css\";\nclass Profile extends Component {\n  render() {\n    const { authContext } = this.props;\n    const { user } = authContext;\n\n    return (\n      <div style={{ padding: \"100px\", fontSize: \"1.25rem\" }}>\n        <h2 style={{ fontSize: \"1.5rem\", marginBottom: \"10px\" }}>\n          This is profile, it's protected !\n        </h2>\n        <p>\n          Checkout the<b>ProtectedRoute</b> component in\n          <code>./components/ProtectRoute.jsx</code>\n        </p>\n        <a\n          style={{ color: \"dodgerblue\", fontWeight: \"bold\" }}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://reacttraining.com/react-router/web/example/auth-workflow\"\n        >\n          React router dom Demo of a protected route\n        </a>\n\n        <section className=\"Profile\">\n          <div className=\"user-image round-image\">\n            <img src={user.profileImg} alt={user.firstName} />\n          </div>\n          <div className=\"user-presentation\">\n            <h2>\n              {user.firstName} {user.lastName}\n            </h2>\n            <Link className=\"link\" to=\"/profile/settings\">\n              Edit profile\n            </Link>\n          </div>\n\n          <div className=\"user-contact\">\n            <h4>Add a phone number</h4>\n\n            <form className=\"form\">\n              <div className=\"form-group\">\n                <label className=\"label\" htmlFor=\"phoneNumber\">\n                  Phone number\n                </label>\n                <input\n                  className=\"input\"\n                  id=\"phoneNumber\"\n                  type=\"text\"\n                  name=\"phoneNumber\"\n                  placeholder=\"Add phone number\"\n                />\n              </div>\n              <button className=\"form__button\">Add phone number</button>\n            </form>\n          </div>\n\n          {/* Break whatever is belo  */}\n          <div className=\"CardItem\">\n            <div className=\"item-empty\">\n              <div className=\"round-image\">\n                <img src=\"/media/personal-page-empty-state.svg\" alt=\"\" />\n              </div>\n              <p>You don't have any items :(</p>\n            </div>\n          </div>\n\n          <div className=\"CardItem\">\n            <h3>Your items</h3>\n            <div className=\"item\">\n              <div className=\"round-image\">\n                <img\n                  src=\"https://vignette.wikia.nocookie.net/simpsons/images/1/14/Ralph_Wiggum.png/revision/latest/top-crop/width/360/height/360?cb=20100704163100\"\n                  alt=\"item\"\n                />\n              </div>\n              <div className=\"description\">\n                <h2>Name of item</h2>\n                <h4>Quantity: 1 </h4>\n                <p>Description of the item</p>\n                <div className=\"buttons\">\n                  <span>\n                    <button className=\"btn-secondary\">Delete</button>\n                  </span>\n                  <span>\n                    <button className=\"btn-primary\">Edit</button>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default withUser(Profile);\n","import React, { Component } from \"react\";\nimport apiHandler from \"../api/apiHandler\";\nimport { withRouter } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport \"../styles/form.css\";\nimport \"../styles/OneHouse.css\";\n\nconst ratings = [\n  {\n    name: \"good\",\n    img: \"/images/good.png\",\n  },\n  {\n    name: \"neutral\",\n    img: \"/images/neutral.png\",\n  },\n  {\n    name: \"bad\",\n    img: \"/images/bad.png\",\n  },\n];\n\nclass OneHouse extends Component {\n\n  state = {\n    house: null,\n    houseId: null,\n    rating: null,\n    discrimination: false,\n    abuseOnRent: false,\n    abuseOnDeposit: false,\n    displayReviews: false,\n    displayForm: false,\n    decription: \"\",\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getOneHouse(this.props.match.params.houseId)\n      .then((house) => {\n        this.setState({ house, houseId: house._id });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  handleChange = (event) => {\n    const value =\n      event.target.type === \"file\"\n        ? event.target.files[0]\n        : event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const fd = new FormData();\n    for (const key in this.state) {\n      fd.append(`${key}`, this.state[key]);\n    }\n    apiHandler\n      .createOneLease(fd)\n      .then((lease) => {\n        this.setState({ lease });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  displayForm = () => {\n    const { authContext } = this.props;\n    authContext.user ? this.setState({ displayForm: true, displayReviews: false }) : this.props.history.push(\"/signin\")\n  };\n\n  displayReviews = () => {\n    this.setState({ displayForm: false, displayReviews: true });\n  };\n\n  render() {\n    return (\n      <div className=\"OneHouse\">\n        {this.state.house && (\n          <React.Fragment>\n            <div className=\"form\">\n              <h2 className=\"title\">Recap of your search</h2>\n              <div className=\"form-group\">\n                <p className=\"label\">Bloc number:</p>\n                <p>{this.state.house.blocNumber}</p>\n              </div>\n              <div className=\"form-group\">\n                <p className=\"label\">Address:</p>\n                <p>{this.state.house.textAddress}</p>\n              </div>\n              <div className=\"form-group\">\n                <p className=\"label\">Building:</p>\n                <p>{this.state.house.building}</p>\n              </div>\n              {this.state.house.unitNumbers && (\n                <div className=\"form-group\">\n                  <p className=\"label\">Unit Numbers:</p>\n                  <p>{this.state.house.unitNumbers}</p>\n                </div>\n              )}\n              <div className=\"form-group\">\n                <p className=\"label\">Category:</p>\n                <p>{this.state.house.category}</p>\n              </div>\n              <div className=\"buttons flex\">\n                <button onClick={this.displayReviews}>\n                  See all existing reviews\n                </button>\n                <button onClick={this.displayForm}>Add my own review</button>\n              </div>\n            </div>\n\n            {this.state.displayReviews && (\n              <div className=\"form\">\n                {this.state.house.leases.length > 0 ? (\n                  <React.Fragment>\n                    <h2 className=\"title\">\n                      There are {this.state.house.leases.length} reviews for\n                      this house.\n                    </h2>\n                    <div className=\"form-group\">\n                      <p className=\"label\">Verified reviews:</p>\n                      <div>\n                        {this.state.house.leases\n                          .filter((oneLease) => oneLease.isVerified === true)\n                          .map((oneLease, index) => (\n                            <div className=\"form-group review\" key={index}>\n                              <p className=\"label\">Review #{index + 1}</p>\n                              <div className=\"form-group flex align-c\">\n                                <p>Overall satisfaction:</p>\n                                <img\n                                  src={`/images/${oneLease.rating}.png`}\n                                  style={{ width: \"50px\", marginLeft: \"10px\" }}\n                                  alt=\"overall satisfaction\"\n                                />\n                              </div>\n                              <div className=\"form-group\">\n                                <p>Has been victim of ...</p>\n                                <ul>\n                                  <li>\n                                    discrimination:\n                                    {oneLease.discrimination ? \" Yes\" : \" No\"}\n                                  </li>\n                                  <li>\n                                    abuse on rent:\n                                    {oneLease.abuseOnRent ? \" Yes\" : \" No\"}\n                                  </li>\n                                  <li>\n                                    abuse on deposit:\n                                    {oneLease.discrimination ? \" Yes\" : \" No\"}\n                                  </li>\n                                </ul>\n                              </div>\n                            </div>\n                          ))}\n                      </div>\n                    </div>\n                    <div className=\"form-group\">\n                      <p className=\"label\">Unverified reviews:</p>\n                      <div>\n                        {this.state.house.leases\n                          .filter((oneLease) => oneLease.isVerified === false)\n                          .map((oneLease, index) => (\n                            <div className=\"form-group review\" key={index}>\n                              <p className=\"label\">Review #{index + 1}</p>\n                              <div className=\"form-group flex align-c\">\n                                <p>Overall satisfaction:</p>\n                                <img\n                                  src={`/images/${oneLease.rating}.png`}\n                                  style={{ width: \"50px\", marginLeft: \"10px\" }}\n                                  alt=\"overall satisfaction\"\n                                />\n                              </div>\n                              <div className=\"form-group\">\n                                <p>Has been victim of ...</p>\n                                <ul>\n                                  <li>\n                                    discrimination:\n                                    {oneLease.discrimination ? \" Yes\" : \" No\"}\n                                  </li>\n                                  <li>\n                                    abuse on rent:\n                                    {oneLease.abuseOnRent ? \" Yes\" : \" No\"}\n                                  </li>\n                                  <li>\n                                    abuse on deposit:\n                                    {oneLease.discrimination ? \" Yes\" : \" No\"}\n                                  </li>\n                                </ul>\n                              </div>\n                            </div>\n                          ))}\n                      </div>\n                    </div>\n                  </React.Fragment>\n                ) : (\n                  <h2 className=\"title\">\n                    There are no existing reviews for this house\n                  </h2>\n                )}\n                <button onClick={this.displayForm}>Add my own review</button>\n              </div>\n            )}\n\n            {this.state.displayForm && (\n              <form\n                className=\"form\"\n                onChange={this.handleChange}\n                onSubmit={this.handleSubmit}\n              >\n                <h2 className=\"title\">Detailed information about my rental</h2>\n                <div className=\"form-group\">\n                  <p className=\"label spaced-b\">\n                    Please upload a proof of lease:\n                  </p>\n                  <label className=\"custom-file-upload\" htmlFor=\"leasePicture\">\n                    Upload my proof\n                  </label>\n                  <input type=\"file\" id=\"leasePicture\" name=\"leasePicture\" />\n                </div>\n                <div className=\"form-group spaced-t\">\n                  <label className=\"label\" htmlFor=\"rating\">\n                    How would you rate your experience?\n                  </label>\n                  <div className=\"rating-container\">\n                    {ratings.map((rating) => {\n                      return (\n                        <div key={rating.name}>\n                          <label\n                            htmlFor={rating.name}\n                            className=\"ratingSelector\"\n                          >\n                            <input\n                              type=\"radio\"\n                              id={rating.name}\n                              name=\"rating\"\n                              value={rating.name}\n                              defaultChecked={this.state.rating === rating.name}\n                            />\n                            <img src={rating.img} alt={rating.name} />\n                          </label>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n                <div className=\"form-group\">\n                  <p className=\"label\">\n                    Have you experienced any of the following?\n                  </p>\n                  <label className=\"flex align-c\" htmlFor=\"discrimination\">\n                    Discrimination:\n                    <input\n                      id=\"discrimination\"\n                      name=\"discrimination\"\n                      type=\"checkbox\"\n                      defaultChecked={this.state.discrimination}\n                    />\n                  </label>\n                  <label className=\"flex align-c\" htmlFor=\"abuseOnRent\">\n                    Abuse on rent:\n                    <input\n                      id=\"abuseOnRent\"\n                      name=\"abuseOnRent\"\n                      type=\"checkbox\"\n                      defaultChecked={this.state.abuseOnRent}\n                    />\n                  </label>\n                  <label className=\"flex align-c\" htmlFor=\"abuseOnDeposit\">\n                    Abuse on deposit:\n                    <input\n                      id=\"abuseOnDeposit\"\n                      name=\"abuseOnDeposit\"\n                      type=\"checkbox\"\n                      defaultChecked={this.state.abuseOnDeposit}\n                    />\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label className=\"label\">\n                    Please describe your experience\n                  </label>\n                  <p style={{ fontStyle: \"italic\" }}>\n                    Remember, no diffamation allowed\n                  </p>\n                  <textarea name=\"description\" id=\"description\"></textarea>\n                </div>\n                <button className=\"btn-submit\">\n                  Send Review (subject to verification)\n                </button>\n              </form>\n            )}\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withUser(OneHouse));\n","import React, { Component } from \"react\";\nimport LocationAutoComplete from \"../LocationAutoComplete\";\nimport \"../../styles/form.css\";\nimport \"../../styles/FormHouse.css\";\nimport apiHandler from \"../../api/apiHandler\";\n\nclass HouseForm extends Component {\n  state = {\n    fullAddress: \"\",\n    blocNumber: \"\",\n    textAddress: \"\",\n    building: \"\",\n    category: \"\",\n    unitNumbers1: \"\",\n    unitNumbers2: \"\",\n    unitRelevance: null,\n    coordinates: [],\n    errors: [],\n  };\n\n  mapCenter = [103.851959, 1.29027];\n\n  handleChange = (event) => {\n    if (!event.target.name) return;\n    let key = event.target.name;\n    if (key === \"unitNumbers1\" || key === \"unitNumbers2\") {\n      let { value, maxLength } = event.target;\n      let troncated = value.slice(0, maxLength);\n      this.setState({\n        [key]: troncated,\n      });\n    } else {\n      let value = event.target.value;\n      if (event.target.type === \"radio\") {\n        value === \"true\" ? (value = true) : (value = false);\n      }\n      this.setState({ [key]: value });\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let completeState = { ...this.state };\n    completeState.unitNumbers = null;\n    if (this.state.unitNumbers1 != \"\" && this.state.unitNumbers2 != \"\")\n      completeState.unitNumbers = `#${this.state.unitNumbers1}-${this.state.unitNumbers2}`;\n\n    // handling errors\n    let errors = [];\n    let errorMessages = {\n      fullAddress: \"Please choose an address provided by the autocomplete\",\n      unitRelevance: \"Please select one option for Unit Numbers\",\n      unitNumbers: \"Please specify both unit numbers digits\",\n    };\n    if (completeState.fullAddress === \"\")\n      errors.push(errorMessages.fullAddress);\n    if (completeState.unitRelevance === null)\n      errors.push(errorMessages.unitRelevance);\n    if (\n      completeState.unitRelevance &&\n      (this.state.unitNumbers1.length < 2 || this.state.unitNumbers2.length < 3)\n    ) {\n      errors.push(errorMessages.unitNumbers);\n    }\n\n    if (errors.length > 0) {\n      this.setState({ errors });\n      return;\n    }\n\n    apiHandler\n      .checkHouse(completeState)\n      .then((houseFound) => {\n        if (houseFound.length > 0) {\n          this.props.history.push(`/houses/${houseFound[0]._id}`);\n        } else {\n          apiHandler\n            .createOneHouse(completeState)\n            .then((res) => {\n              this.props.history.push(`/houses/${res._id}`);\n            })\n            .catch((error) => {\n              console.log(error);\n            });\n        }\n      })\n      .catch((err) => console.log(err));\n\n    //\n    // need to set the state of errors again, to set it to 0\n  };\n\n  handlePlace = (place) => {\n    this.setState({\n      fullAddress: place.ADDRESS,\n      blocNumber: place.BLK_NO,\n      textAddress: place.ROAD_NAME,\n      building: place.BUILDING,\n      coordinates: [Number(place.LONGITUDE), Number(place.LATITUDE)],\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"FormHouse\">\n        <form\n          className=\"form\"\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmit}\n        >\n          <h2 className=\"title\">Detailed information about the location</h2>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"location\">\n              Postal code or address *\n            </label>\n            <LocationAutoComplete\n              searchType=\"types=postcode&\"\n              onSelect={this.handlePlace}\n              mapCenter={this.mapCenter}\n            />\n          </div>\n          <div className=\"form-group\">\n            <p className=\"label\">\n              Unit numbers {this.state.unitRelevance && \"*\"}\n            </p>\n            <div className=\"flex\">\n              <p>Does your address contains unit numbers?</p>\n              <div className=\"flex\">\n                <div>\n                  <input\n                    type=\"radio\"\n                    id=\"relevance1\"\n                    name=\"unitRelevance\"\n                    value={true}\n                    checked={this.state.unitRelevance === true}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"contactChoice1\">Yes</label>\n                </div>\n                <div>\n                  <input\n                    type=\"radio\"\n                    id=\"relevance2\"\n                    name=\"unitRelevance\"\n                    value={false}\n                    checked={this.state.unitRelevance === false}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"contactChoice2\">No</label>\n                </div>\n              </div>\n            </div>\n            {this.state.unitRelevance && (\n              <div className=\"flex align-c\">\n                <p>Please specify:</p>\n                <div className=\"unit-numbers flex align-c\">\n                  <span>#</span>\n                  <label className=\"for-accessibility\" htmlFor=\"unitNumbers1\">\n                    First two digits\n                  </label>\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"unitNumbers1\"\n                    value={this.state.unitNumbers1}\n                    onChange={this.handleChange}\n                    placeholder=\"15\"\n                    maxLength=\"2\"\n                  />\n                  <span>-</span>\n                  <label className=\"for-accessibility\" htmlFor=\"unitNumbers2\">\n                    Last three digits\n                  </label>\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"unitNumbers2\"\n                    value={this.state.unitNumbers2}\n                    onChange={this.handleChange}\n                    placeholder=\"369\"\n                    maxLength=\"3\"\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"category\">\n              House category\n            </label>\n\n            <select id=\"category\" name=\"category\" defaultValue=\"-1\">\n              <option value=\"-1\" disabled>\n                Select a category\n              </option>\n              <option value=\"Condo\">Condo</option>\n              <option value=\"House\">House</option>\n              <option value=\"Social Housing\">Social Housing</option>\n            </select>\n          </div>\n\n          {this.state.errors.map((error) => {\n            return <p>{error}</p>;\n          })}\n\n          <button className=\"btn-submit\">Next</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default HouseForm;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavMain from \"./components/NavMain\";\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Profile from \"./pages/Profile\";\nimport OneHouse from \"./pages/OneHouse\";\nimport FormHouse from \"./components/Forms/FormHouse\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <NavMain />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/signin\" component={Signin} />\n        <Route exact path=\"/signup\" component={Signup} />\n        <Route exact path=\"/houses/create\" component={FormHouse} />\n        <Route exact path=\"/houses/:houseId\" component={OneHouse} />\n        <ProtectedRoute exact path=\"/profile\" component={Profile} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport AuthProvider from \"./components/Auth/AuthProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}